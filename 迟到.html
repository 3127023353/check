<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl/dist/echarts-gl.min.js"></script>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat/dist/ecStat.min.js"></script>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/map/js/china.js"></script>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=xfhhaTThl11qYVrqLZii6w8qE5ggnhrY&__ec_v__=20190126"></script>
       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/extension/bmap.min.js"></script>
       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option = null;
Attendance1={"late": [["2014\u5e74", 30.71], ["2015\u5e74", 29.25], ["2016\u5e74", 28.05], ["2017\u5e74", 16.32], ["2018\u5e74", 19.07], ["2019\u5e74", 37.0]], "early": [["2014\u5e74", 1.89], ["2015\u5e74", 2.48], ["2016\u5e74", 8.21], ["2017\u5e74", 28.23], ["2018\u5e74", 10.24], ["2019\u5e74", 0.0]], "uniform": [["2014\u5e74", 16.88], ["2015\u5e74", 16.24], ["2016\u5e74", 13.74], ["2017\u5e74", 5.45], ["2018\u5e74", 20.7], ["2019\u5e74", 13.0]]}
Attendance2={"late": [["2013-2014-1", 45.63], ["2013-2014-2", 24.16], ["2014-2015-1", 32.33], ["2014-2015-2", 27.91], ["2015-2016-1", 30.67], ["2015-2016-2", 36.38], ["2016-2017-1", 22.54], ["2016-2017-2", 14.41], ["2017-2018-1", 11.77], ["2017-2018-2", 33.49], ["2018-2019-1", 31.28]], "early": [["2013-2014-1", 1.94], ["2013-2014-2", 2.48], ["2014-2015-1", 0.57], ["2014-2015-2", 3.62], ["2015-2016-1", 0.78], ["2015-2016-2", 0.72], ["2016-2017-1", 13.53], ["2016-2017-2", 29.01], ["2017-2018-1", 22.59], ["2017-2018-2", 6.3], ["2018-2019-1", 0.0]], "uniform": [["2013-2014-1", 10.52], ["2013-2014-2", 17.05], ["2014-2015-1", 16.94], ["2014-2015-2", 14.98], ["2015-2016-1", 18.55], ["2015-2016-2", 12.89], ["2016-2017-1", 13.94], ["2016-2017-2", 6.58], ["2017-2018-1", 15.65], ["2017-2018-2", 10.21], ["2018-2019-1", 18.72]]}
Attendance3={"late": [["1\u6708", 6.72], ["2\u6708", 40.74], ["3\u6708", 21.93], ["4\u6708", 36.09], ["5\u6708", 41.16], ["6\u6708", 28.97], ["7\u6708", 48.08], ["8\u6708", 0.0], ["9\u6708", 20.77], ["10\u6708", 32.72], ["11\u6708", 33.34], ["12\u6708", 32.84]], "early": [["1\u6708", 16.92], ["2\u6708", 0.0], ["3\u6708", 22.91], ["4\u6708", 2.17], ["5\u6708", 0.83], ["6\u6708", 0.0], ["7\u6708", 0.0], ["8\u6708", 0.0], ["9\u6708", 0.0], ["10\u6708", 0.0], ["11\u6708", 0.0], ["12\u6708", 0.0]], "uniform": [["1\u6708", 26.36], ["2\u6708", 9.26], ["3\u6708", 5.16], ["4\u6708", 11.74], ["5\u6708", 8.01], ["6\u6708", 21.03], ["7\u6708", 1.93], ["8\u6708", 0.0], ["9\u6708", 29.23], ["10\u6708", 17.29], ["11\u6708", 16.66], ["12\u6708", 17.16]]}
Attendance4={"late": [["1\u53f7", 0.0], ["2\u53f7", 30.0], ["3\u53f7", 47.06], ["4\u53f7", 12.5], ["5\u53f7", 31.25], ["6\u53f7", 0.0], ["7\u53f7", 0.0], ["8\u53f7", 50.0], ["9\u53f7", 37.5], ["10\u53f7", 50.0], ["11\u53f7", 50.0], ["12\u53f7", 43.75], ["13\u53f7", 0.0], ["14\u53f7", 0.0], ["15\u53f7", 3.71], ["16\u53f7", 10.0], ["17\u53f7", 6.45], ["18\u53f7", 0.0], ["19\u53f7", 0.0], ["20\u53f7", 0.0], ["21\u53f7", 0.0], ["22\u53f7", 50.0], ["23\u53f7", 38.63], ["24\u53f7", 50.0], ["25\u53f7", 0.0], ["26\u53f7", 15.84], ["27\u53f7", 0.0], ["28\u53f7", 0.0], ["29\u53f7", 12.5], ["30\u53f7", 0.0], ["31\u53f7", 0.0]], "early": [["1\u53f7", 0.0], ["2\u53f7", 0.0], ["3\u53f7", 0.0], ["4\u53f7", 0.0], ["5\u53f7", 0.0], ["6\u53f7", 0.0], ["7\u53f7", 0.0], ["8\u53f7", 0.0], ["9\u53f7", 0.0], ["10\u53f7", 0.0], ["11\u53f7", 0.0], ["12\u53f7", 6.25], ["13\u53f7", 0.0], ["14\u53f7", 0.0], ["15\u53f7", 44.45], ["16\u53f7", 20.0], ["17\u53f7", 43.55], ["18\u53f7", 0.0], ["19\u53f7", 0.0], ["20\u53f7", 0.0], ["21\u53f7", 0.0], ["22\u53f7", 0.0], ["23\u53f7", 0.0], ["24\u53f7", 0.0], ["25\u53f7", 13.56], ["26\u53f7", 34.16], ["27\u53f7", 12.7], ["28\u53f7", 50.0], ["29\u53f7", 37.5], ["30\u53f7", 0.0], ["31\u53f7", 0.0]], "uniform": [["1\u53f7", 13.5], ["2\u53f7", 5.0], ["3\u53f7", 1.5], ["4\u53f7", 13.0], ["5\u53f7", 15.0], ["6\u53f7", 14.0], ["7\u53f7", 5.0], ["8\u53f7", 18.5], ["9\u53f7", 12.0], ["10\u53f7", 14.0], ["11\u53f7", 15.5], ["12\u53f7", 11.5], ["13\u53f7", 0.5], ["14\u53f7", 15.5], ["15\u53f7", 0.5], ["16\u53f7", 20.0], ["17\u53f7", 18.0], ["18\u53f7", 18.5], ["19\u53f7", 7.0], ["20\u53f7", 11.0], ["21\u53f7", 3.0], ["22\u53f7", 8.5], ["23\u53f7", 6.0], ["24\u53f7", 19.5], ["25\u53f7", 18.5], ["26\u53f7", 3.0], ["27\u53f7", 12.5], ["28\u53f7", 13.0], ["29\u53f7", 18.0], ["30\u53f7", 7.5], ["31\u53f7", 8.0]]}
setTimeout(function () {

    option = {
        legend: {},
         tooltip: {
            formatter: function (params) {
                return [
                    params.data[0] + '的百分比为：' + params.data[1] + '%'
                ].join('<br/>')
            }
        },
       
   xAxis: {
            name: '时间',
            type: 'category',
            max: 'dataMax',
            min: 'dataMin',
            axisTick: {
                show: false
            },
        },
           yAxis: {
            name: '百分比',
            type: 'value',
            max: 60,
            min: 'dataMin',
            axisLabel: {
                formatter: '{value}%'
            },
            axisTick: {
                show: false
            },
            splitLine: {
                lineStyle: {
                    color: '#eeeeee',
                    type: 'dashed'
                }
            }
        },
         grid: {
            left: 0,
            right: '4%',
            top: '16%',
            bottom: 0,
            containLabel: true
        },
          legend: [{
            data: ['学年统计', '学期统计', '当前年份', '当前月份'],
            selectedMode: 'single',
            selected: {
                '学年统计': false,
                '学期统计': true,
            }
        }],
        series: [{
            data: Attendance1.late,
            name: '学年统计',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#df6b66'
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 15,
                    value: '迟到晚到'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },
        {
            data: Attendance1.early,
            name: '学年统计',
            type: 'line',
            smooth: true,
            itemStyle: {
                color:  '#71b9bc',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 40,
                    value: '离校早退'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },
        {
            data: Attendance1.uniform,
            name: '学年统计',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#90ca8f',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 65,
                    value: '校服校徽'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },
        {
            data: Attendance2.late,
            name: '学期统计',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#df6b66'
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 15,
                    value: '迟到晚到'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance2.early,
            name: '学期统计',
            type: 'line',
            smooth: true,
            itemStyle: {
                color:  '#71b9bc',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 40,
                    value: '离校早退'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance2.uniform,
            name: '学期统计',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#90ca8f',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 65,
                    value: '校服校徽'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance3.late,
            name: '当前年份',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#df6b66'
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 15,
                    value: '迟到晚到'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance3.early,
            name: '当前年份',
            type: 'line',
            smooth: true,
            itemStyle: {
                color:  '#71b9bc',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 40,
                    value: '离校早退'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance3.uniform,
            name: '当前年份',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#90ca8f',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 65,
                    value: '校服校徽'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance4.late,
            name: '当前月份',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#df6b66'
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 15,
                    value: '迟到晚到'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance4.early,
            name: '当前月份',
            type: 'line',
            smooth: true,
            itemStyle: {
                color:  '#71b9bc',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 40,
                    value: '离校早退'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }
        },{
            data: Attendance4.uniform,
            name: '当前月份',
            type: 'line',
            smooth: true,
            itemStyle: {
                color: '#90ca8f',
            },
            markPoint: {
                symbol: 'rect',
                symbolSize: [50, 25],
                data: [{
                    x: '96%',
                    y: 65,
                    value: '校服校徽'
                }],
                silent: true
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ],
                silent: true
            }}
        ]
    };

    myChart.on('updateAxisPointer', function (event) {
        var xAxisInfo = event.axesInfo[0];
        if (xAxisInfo) {
            var dimension = xAxisInfo.value + 1;
            myChart.setOption({
                series: {
                    id: 'pie',
                    label: {
                        formatter: '{b}: {@[' + dimension + ']} ({d}%)'
                    },
                    encode: {
                        value: dimension,
                        tooltip: dimension
                    }
                }
            });
        }
    });

    myChart.setOption(option);

});;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>
